services:
  - type: web
    name: virona-shawq-dashboard
    env: node
    buildCommand: PUPPETEER_CACHE_DIR=/opt/render/project/src/.cache/puppeteer npm install && cd client && npm install && npm run build && cd ../server && PUPPETEER_CACHE_DIR=/opt/render/project/src/.cache/puppeteer npm install && PUPPETEER_CACHE_DIR=/opt/render/project/src/.cache/puppeteer npx --yes puppeteer browsers install chrome
    startCommand: cd server && npm start
    envVars:
      - key: PUPPETEER_CACHE_DIR
        value: /opt/render/project/src/.cache/puppeteer
      - key: PUPPETEER_SKIP_DOWNLOAD
        value: "false"
